<div class="container-fluid">

  <h3>Opret bruger</h3>

  <div class="col-md-12 col-xs-12" ng-if="processed">
    <em class="text-warning" ng-if="processed.error">
			{{ processed.error }}
		</em>
    <em class="text-success" ng-if="processed.ok">
			{{ processed.ok }}
		</em>
  </div>

  <div class="col-md-7 col-sm-12" ng-if="!processed">

		<div class="control-group">
      <div class="controls">
        <div class="radio">
					<label class="normal required no-padding">
					   Vælg brugertype&nbsp;&nbsp;&nbsp;
					</label>
          <label bs-popover 
						data-trigger="hover" 
						data-placement="bottom" 
						data-content="Vælg denne brugertype hvis du laver Myrejagten i tilknytning til en skole, et fritidshjem, en børnehave, en spejdergruppe el. lign. Denne brugertype inddeler eksperimenter i overordnede projekter, hvilket giver mulighed for inddeling i hold.">
            <input type="radio" name="brugertype" value="0" ng-model="user.role">Institution
          </label>
          &nbsp;&nbsp;
          <label bs-popover 
						data-trigger="hover" 
						data-placement="bottom" 
						data-content="Vælg denne brugertype hvis du laver Myrejagten i privat regi, f.eks. med familie eller venner">
            <input type="radio" name="brugertype" value="1" ng-model="user.role">Privat
          </label>
        </div>
      </div>
    </div>

    <form class="form-horizontal">
      <div class="control-group">
        <label class="control-label required normal" for="email">E-mail adresse</label>
        <div class="input-group">
          <input type="text" id="email" ng-model="user.email" placeholder="" class="form-control input-lg">
          <span class="input-group-btn">
						<i style="margin-left:5px;" info-popover content-name="Opret_email""></i>
  		    </span>
        </div>
        <p class="help-block error" ng-show="emailInUse()">
          Email-adressen <b>{{ user.email }}</b> er allerede i brug! Har du <a href="/glemt-password/?email={{ user.email }}">glemt password?</a>
        </p>
        <p class="help-block error" ng-show="!emailIsValid()">
          Email-adresse er ikke gyldig!
        </p>

        <div class="control-group">
          <label class="control-label required normal" for="username">Brugernavn</label>
          <div class="input-group">
            <input type="text" ng-model="user.brugernavn" placeholder="" class="form-control input-lg">
            <span class="input-group-btn">
						<i style="margin-left:5px;" info-popover content-name="Opret_brugernavn"></i>
  		    </span>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label required normal" for="password">Password</label>
          <div class="input-group">
            <input type="text" id="password" ng-model="user.password" class="form-control input-lg">
            <span class="input-group-btn">
							<button class="btn xbtn-default btn-lg btn-password-generate" 
								ng-click="generatePassword()" 
								title="Generer et tilfældigt password med rimelig god sikkerhed">
									<i class="fa fa-gear text-muted"></i>
							</button>
						</span>
						<span class="input-group-btn">
							<i style="margin-left:5px;" info-popover content-name="Opret_password"></i>
		 		    </span>
          </div>
        </div>

        <div class="control-group">
          <div class="pull-right checkbox" style="position:relative;top:-14px;right:40px;">
            <label class="normal">
              <input type="checkbox" ng-model="user.termsAccepted" ng-checked="user.termsAccepted"> Jeg accepterer
              <a target=_blank href="/betingelser-og-vilkår"><strong>betingelser og vilkår</strong></a>.
            </label>
          </div>
        </div>

        <div class="control-group">
          <div class="controls">
            <br>
            <br>
            <br>
            <button class="btn btn-lg" 
							ng-disabled="!canCreateUser()" 
							ng-click="createUser()"
							ng-class="{ 'btn-ku': canCreateUser() }">
              <i class="fa fa-check" ng-show="canCreateUser()"></i>
							Opret
            </button>
          </div>
        </div>
	    </div>
    </form>
  </div>

  <div class="col-md-5 col-sm-12" ng-if="processed == null">
    <div mj-content="Tilmeld_1"></div>
  </div>

</div>

